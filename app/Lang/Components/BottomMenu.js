import Link from 'next/link';
import React, { useEffect, useState } from 'react'

const BottomMenu = ({setDisplayOption, dispayOption}) => {

  const [showMenu, setShowMenu] = useState(true);

  useEffect(() => {
    let prevScrollPosition = window.scrollY;

    const handleScroll = () => {
      if(document?.getElementsByClassName('list-switch-selection')?.item(0)?.style.display === "none"){
        const currentScrollPosition = window.scrollY;
        if(Math.abs(prevScrollPosition - currentScrollPosition) > 9) setShowMenu(prevScrollPosition >= currentScrollPosition);
        prevScrollPosition = currentScrollPosition;
      }
    };

    window.addEventListener('scroll', handleScroll);

    return () => {
      window.removeEventListener('scroll', handleScroll);
    };
  }, []);


  return (
    <div className={`contain-nav-bottom ${showMenu ? 'show' : 'hide'}`}>
        <nav className='nav-bottom'>

            <span className='btn-nav-bottom'>
              <Link href={"/enlang"}>
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="style=stroke" clipPath="url(#clip0_1_197)"><g id="home-smile"><path id="vector (Stroke)" fillRule="evenodd" clipRule="evenodd" d="M9.53099 2.16334C10.9447 0.92667 13.0553 0.926673 14.469 2.16335L21.1274 7.98786C22.1585 8.88984 22.75 10.1931 22.75 11.563V20C22.75 22.0711 21.0711 23.75 19 23.75H5C2.92893 23.75 1.25 22.0711 1.25 20V11.563C1.25 10.1931 1.84148 8.88984 2.87259 7.98786L9.53099 2.16334ZM13.4814 3.29234C12.6332 2.55034 11.3668 2.55034 10.5186 3.29234L3.86019 9.11686C3.15469 9.734 2.75 10.6257 2.75 11.563V20C2.75 21.2426 3.75736 22.25 5 22.25H19C20.2426 22.25 21.25 21.2426 21.25 20V11.563C21.25 10.6257 20.8453 9.734 20.1398 9.11686L13.4814 3.29234Z" fill="#000000"/><path id="vector (Stroke)_2" fillRule="evenodd" clipRule="evenodd" d="M7.16229 14.4695C7.53638 14.2916 7.98381 14.4507 8.16166 14.8248C8.50682 15.5508 9.05083 16.1641 9.73052 16.5933C10.4102 17.0226 11.1977 17.2503 12.0016 17.25C12.8055 17.2497 13.5929 17.0214 14.2722 16.5916C14.9516 16.1618 15.4951 15.5481 15.8397 14.8218C16.0173 14.4476 16.4646 14.2881 16.8388 14.4657C17.213 14.6432 17.3725 15.0905 17.1949 15.4648C16.7287 16.4474 15.9933 17.2777 15.0742 17.8592C14.1551 18.4407 13.0899 18.7496 12.0022 18.75C10.9146 18.7504 9.84913 18.4424 8.92954 17.8616C8.00995 17.2808 7.27394 16.4511 6.80696 15.4688C6.62911 15.0947 6.7882 14.6473 7.16229 14.4695Z" fill="#000000"/></g></g><defs><clipPath id="clip0_1_197"><rect width="24" height="24" fill="white" transform="translate(0 24) rotate(-90)"/></clipPath></defs></svg>
              </Link>
            </span>

            <span className='btn-nav-bottom'>
              <Link href={"/"}>
                <svg xmlns="http://www.w3.org/2000/svg" version="1.0" viewBox="0 0 603.000000 669.000000" preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,669.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"><path d="M1615 5695 c-764 -486 -1391 -889 -1393 -895 -2 -5 1 -10 7 -10 16 0 15 -2857 0 -2862 -16 -5 11 -48 29 -48 8 0 630 -392 1383 -870 1289 -820 1370 -870 1393 -858 13 7 643 407 1399 888 893 567 1373 878 1367 884 -14 14 -14 2858 0 2872 6 6 -485 324 -1382 894 -766 487 -1397 886 -1402 887 -6 1 -636 -396 -1401 -882z m2646 -95 c684 -435 1245 -794 1246 -798 3 -10 -2486 -1588 -2500 -1584 -12 4 -2478 1569 -2488 1580 -6 6 2476 1590 2492 1591 4 1 566 -355 1250 -789z m-2576 -1725 c666 -422 1220 -776 1233 -788 l22 -20 0 -1344 c0 -739 -2 -1343 -5 -1343 -3 0 -178 109 -388 243 -210 134 -389 246 -398 249 -13 5 -1319 836 -1671 1064 l-108 69 0 1352 0 1353 53 -34 c28 -18 596 -379 1262 -801z m3973 -522 l-3 -1357 -255 -162 c-711 -449 -2278 -1439 -2298 -1452 l-22 -14 2 1362 3 1362 1280 808 c704 444 1283 809 1288 809 4 1 6 -610 5 -1356z"/> <path d="M2020 4063 c0 -5 221 -149 490 -320 l488 -313 479 306 c263 168 485 312 493 320 12 12 -126 14 -968 14 -540 0 -982 -3 -982 -7z"/> <path d="M1060 3322 c0 -5 -34 -222 -75 -482 -41 -260 -75 -478 -75 -484 0 -9 278 -196 292 -196 2 0 18 85 33 190 18 116 33 184 38 175 4 -8 51 -133 103 -277 53 -145 99 -267 104 -271 4 -5 54 57 110 138 56 80 104 144 106 143 2 -2 15 -91 29 -198 14 -107 28 -212 31 -234 6 -36 13 -42 151 -133 80 -52 146 -93 148 -91 4 3 -143 1180 -148 1183 -45 33 -219 145 -225 145 -5 0 -51 -63 -102 -140 l-94 -140 -16 43 c-9 23 -51 143 -94 267 l-78 225 -109 73 c-105 70 -129 81 -129 64z"/> <path d="M2130 2096 l0 -543 137 -89 c75 -49 140 -90 145 -92 4 -2 8 241 8 541 l0 545 -139 91 c-77 50 -142 91 -145 91 -4 0 -6 -245 -6 -544z"/> <path d="M4974 3367 l-161 -102 -190 -662 c-110 -381 -186 -663 -179 -662 6 0 76 42 156 93 l145 93 21 73 21 74 177 113 c173 110 196 122 196 104 0 -5 7 -25 15 -44 l15 -36 155 97 c85 53 155 101 155 105 0 8 -343 815 -359 844 -4 8 -60 -22 -167 -90z m85 -641 c-32 -23 -171 -107 -174 -104 -3 3 68 276 81 308 3 9 23 -26 51 -93 25 -59 44 -109 42 -111z"/> <path d="M4280 2921 l-135 -88 -30 -240 -30 -241 -103 149 c-57 82 -107 149 -111 149 -5 0 -55 -126 -111 -280 -57 -154 -104 -279 -106 -278 -1 2 -14 86 -29 188 -15 102 -30 188 -34 192 -11 12 -286 -171 -285 -190 1 -41 138 -968 143 -974 6 -7 221 126 232 144 4 6 46 121 94 257 48 135 90 249 94 253 4 5 48 -55 99 -133 63 -96 96 -138 104 -133 135 80 219 139 223 157 2 12 34 267 70 567 36 300 68 555 71 568 3 14 0 22 -8 21 -7 0 -74 -40 -148 -88z"/> </g> </svg>
              </Link>
            </span>
      
            <span className='btn-nav-bottom' onClick={() => {setDisplayOption(!dispayOption)}}>
              {dispayOption == false ?
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="#292D32" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round"/><path d="M2 12.8799V11.1199C2 10.0799 2.85 9.21994 3.9 9.21994C5.71 9.21994 6.45 7.93994 5.54 6.36994C5.02 5.46994 5.33 4.29994 6.24 3.77994L7.97 2.78994C8.76 2.31994 9.78 2.59994 10.25 3.38994L10.36 3.57994C11.26 5.14994 12.74 5.14994 13.65 3.57994L13.76 3.38994C14.23 2.59994 15.25 2.31994 16.04 2.78994L17.77 3.77994C18.68 4.29994 18.99 5.46994 18.47 6.36994C17.56 7.93994 18.3 9.21994 20.11 9.21994C21.15 9.21994 22.01 10.0699 22.01 11.1199V12.8799C22.01 13.9199 21.16 14.7799 20.11 14.7799C18.3 14.7799 17.56 16.0599 18.47 17.6299C18.99 18.5399 18.68 19.6999 17.77 20.2199L16.04 21.2099C15.25 21.6799 14.23 21.3999 13.76 20.6099L13.65 20.4199C12.75 18.8499 11.27 18.8499 10.36 20.4199L10.25 20.6099C9.78 21.3999 8.76 21.6799 7.97 21.2099L6.24 20.2199C5.33 19.6999 5.02 18.5299 5.54 17.6299C6.45 16.0599 5.71 14.7799 3.9 14.7799C2.85 14.7799 2 13.9199 2 12.8799Z" stroke="#292D32" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round"/></svg>
              :
                <svg viewBox="-0.5 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 21.32L21 3.32001" stroke="#000000" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/><path d="M3 3.32001L21 21.32" stroke="#000000" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/></svg>
              }
            </span>

        </nav>
    </div>
  )
}

export default BottomMenu